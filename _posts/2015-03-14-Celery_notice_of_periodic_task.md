hi all, i will talk about the tricky of using Celery periodic task aka. celery beat

Suit for?
----------
first, what the Celery suit for?
in my opinion,the power of the celery beat should appeal to system management. in other words, it fits to
schedule some task you can foresee or thought of. so that you can write a task, and make then happen at the right
time.

but in case of ifttt, of which the logic recipe aka. task is dynamic generated by users. we can schedule that in advance.

dynamic config reload
----------------------
may be you will say: can we just dynamic change the celeryconfig.py, and reload this file use app.config_from_object().

i would merely say that may work, but if you just have thousands of logical to trigger periodicly, can you imagine how long the configure
file is and how long will it take to reload?

celery beat work flow
---------------------
celery beat is a *scheduler*, it kicks off task at regular intervals,which are then executed by the worker nodes availale in the cluster.

by default the *schedule entries* are taker from the **CELERY_ SCHEDULE** config setting, but you can also custom it.

as for the default scheduler aka. _celery beat_ will read the schedule entries from celeryconfig.py and then store neccessary info to a celerybeat-schedule
file. it will automatically detect **time zone** change.


starting
-----------
to start the **celery beat** service:i

    $ celery -A proj beat

it does nothing sepcial but loads schedules from configure file and the worker will do the task when it kicks a task off.
Beat needs to store the last run times of the tasks in a **local database file** , which is named celerybeat-schedule by default.

also you can specify a location to store the runtime-info:

    $celery -A proj beat -s /home/location/to/store/runtime/info/your_custome_filename


using custom scheduler classes
-------------------------------
the default scheduler is **celery.beat.PersistentScheduler**, which is simply keeping track of the last run times in a **local database file**(a shelve)
you can start your custom scheduler class by *-S argument*

    celery -A proj beat -S djcelery.schedulers.DatabaseScheduler
